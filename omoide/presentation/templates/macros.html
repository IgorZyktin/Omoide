{% macro render_paginator(request, paginator, query) %}
    {% if paginator %}
        <div class="pages">
            {% if paginator.has_previous %}
                <a class="active-page page-separate"
                   href="{{ request.url_for('search') + query.at_page(paginator.previous_page).as_str() }}">
                    <img src="{{ request.url_for('static', path='ic_chevron_left_18px.svg') }}"/>
                </a>
            {% else %}
                <a class="inactive-page page-separate">
                    <img src="{{ request.url_for('static', path='ic_chevron_left_18px.svg') }}"/>
                </a>
            {% endif %}
            <span>&nbsp;</span>

            {% for page in paginator %}


                {% if paginator.total_pages == 1 %}
                    {% set corner_style = 'page-separate' %}
                {% elif page.number == 1 %}
                    {% set corner_style = 'page-left' %}
                {% elif page.number == paginator.total_pages %}
                    {% set corner_style = 'page-right' %}
                {% else %}
                    {% set corner_style = '' %}
                {% endif %}

                {% if page.is_dummy %}
                    <a class="inactive-page {{ corner_style }}">...</a>
                {% elif page.is_current %}
                    <a href="{{ request.url_for('search') + query.at_page(page.number).as_str() }}"
                       class="active-page {{ corner_style }}">{{ page.number }}</a>
                {% else %}
                    <a href="{{ request.url_for('search') + query.at_page(page.number).as_str() }}"
                       class="{{ corner_style }}">{{ page.number }}</a>
                {% endif %}
            {% endfor %}

            <span>&nbsp;</span>
            {% if paginator.has_next %}
                <a class="active-page page-separate"
                   href="{{ request.url_for('search') + query.at_page(paginator.next_page).as_str() }}">
                    <img src="{{ request.url_for('static', path='ic_chevron_right_18px.svg') }}"/>
                </a>
            {% else %}
                <a class="inactive-page page-separate">
                    <img src="{{ request.url_for('static', path='ic_chevron_right_18px.svg') }}"/>
                </a>
            {% endif %}
        </div>
    {% endif %}
{% endmacro %}

{% macro render_paginator_by_user(request, paginator, query, uuid) %}
    {% if paginator %}
        <div class="pages">
            {% if paginator.has_previous %}
                <a class="active-page page-separate"
                   href="{{ request.url_for('by_user', uuid=uuid) + query.at_page(paginator.previous_page).as_str() }}">
                    <img src="{{ request.url_for('static', path='ic_chevron_left_18px.svg') }}"/>
                </a>
            {% else %}
                <a class="inactive-page page-separate">
                    <img src="{{ request.url_for('static', path='ic_chevron_left_18px.svg') }}"/>
                </a>
            {% endif %}
            <span>&nbsp;</span>

            {% for page in paginator %}

                {% if paginator.total_pages == 1 %}
                    {% set corner_style = 'page-separate' %}
                {% elif page.number == 1 %}
                    {% set corner_style = 'page-left' %}
                {% elif page.number == paginator.total_pages %}
                    {% set corner_style = 'page-right' %}
                {% else %}
                    {% set corner_style = '' %}
                {% endif %}

                {% if page.is_dummy %}
                    <a class="inactive-page {{ corner_style }}">...</a>
                {% elif page.is_current %}
                    <a href="{{ request.url_for('by_user', uuid=uuid) + query.at_page(page.number).as_str() }}"
                       class="active-page {{ corner_style }}">{{ page.number }}</a>
                {% else %}
                    <a href="{{ request.url_for('by_user', uuid=uuid) + query.at_page(page.number).as_str() }}"
                       class="{{ corner_style }}">{{ page.number }}</a>
                {% endif %}
            {% endfor %}

            <span>&nbsp;</span>
            {% if paginator.has_next %}
                <a class="active-page page-separate"
                   href="{{ request.url_for('by_user', uuid=uuid) + query.at_page(paginator.next_page).as_str() }}">
                    <img src="{{ request.url_for('static', path='ic_chevron_right_18px.svg') }}"/>
                </a>
            {% else %}
                <a class="inactive-page page-separate">
                    <img src="{{ request.url_for('static', path='ic_chevron_right_18px.svg') }}"/>
                </a>
            {% endif %}
        </div>
    {% endif %}
{% endmacro %}

{% macro render_paginator_by_item(request, paginator, query, uuid) %}
    {% if paginator %}
        <div class="pages">
            {% if paginator.has_previous %}
                <a class="active-page page-separate"
                   href="{{ request.url_for('browse', uuid=uuid) + query.at_page(paginator.previous_page).as_str() }}">
                    <img src="{{ request.url_for('static', path='ic_chevron_left_18px.svg') }}"/>
                </a>
            {% else %}
                <a class="inactive-page page-separate">
                    <img src="{{ request.url_for('static', path='ic_chevron_left_18px.svg') }}"/>
                </a>
            {% endif %}
            <span>&nbsp;</span>

            {% for page in paginator %}

                {% if paginator.total_pages == 1 %}
                    {% set corner_style = 'page-separate' %}
                {% elif page.number == 1 %}
                    {% set corner_style = 'page-left' %}
                {% elif page.number == paginator.total_pages %}
                    {% set corner_style = 'page-right' %}
                {% else %}
                    {% set corner_style = '' %}
                {% endif %}

                {% if page.is_dummy %}
                    <a class="inactive-page {{ corner_style }}">...</a>
                {% elif page.is_current %}
                    <a href="{{ request.url_for('browse', uuid=uuid) + query.at_page(page.number).as_str() }}"
                       class="active-page {{ corner_style }}">{{ page.number }}</a>
                {% else %}
                    <a href="{{ request.url_for('browse', uuid=uuid) + query.at_page(page.number).as_str() }}"
                       class="{{ corner_style }}">{{ page.number }}</a>
                {% endif %}
            {% endfor %}

            <span>&nbsp;</span>
            {% if paginator.has_next %}
                <a class="active-page page-separate"
                   href="{{ request.url_for('browse', uuid=uuid) + query.at_page(paginator.next_page).as_str() }}">
                    <img src="{{ request.url_for('static', path='ic_chevron_right_18px.svg') }}"/>
                </a>
            {% else %}
                <a class="inactive-page page-separate">
                    <img src="{{ request.url_for('static', path='ic_chevron_right_18px.svg') }}"/>
                </a>
            {% endif %}
        </div>
    {% endif %}
{% endmacro %}

{% macro render_album(request, album) %}
    {% if album %}
        <div class="pages">
            {% if album.has_previous %}
                <a class="active-page page-separate"
                   href="{{ request.url_for('preview', uuid=album.previous_item) }}">
                    <img src="{{ request.url_for('static', path='ic_chevron_left_18px.svg') }}"/>
                </a>
            {% else %}
                <a class="inactive-page page-separate">
                    <img src="{{ request.url_for('static', path='ic_chevron_left_18px.svg') }}"/>
                </a>
            {% endif %}
            <span>&nbsp;</span>

            {% for page in album %}
                {% if album.total_items == 1 %}
                    {% set corner_style = 'page-separate' %}
                {% elif page.number == 1 %}
                    {% set corner_style = ' page-left' %}
                {% elif page.number == album.total_items %}
                    {% set corner_style = ' page-right' %}
                {% else %}
                    {% set corner_style = '' %}
                {% endif %}

                {% if page.is_dummy %}
                    <a class="inactive-page {{ corner_style }}">...</a>
                {% elif page.is_current %}
                    <a href="{{ request.url_for('preview', uuid=page.value) }}"
                       class="active-page{{ corner_style }}">{{ page.number }}</a>
                {% else %}
                    <a href="{{ request.url_for('preview', uuid=page.value) }}"
                       class="{{ corner_style }}">{{ page.number }}</a>
                {% endif %}
            {% endfor %}

            <span>&nbsp;</span>
            {% if album.has_next %}
                <a class="active-page page-separate"
                   href="{{ request.url_for('preview', uuid=album.next_item) }}">
                    <img src="{{ request.url_for('static', path='ic_chevron_right_18px.svg') }}"/>
                </a>
            {% else %}
                <a class="inactive-page page-separate">
                    <img src="{{ request.url_for('static', path='ic_chevron_right_18px.svg') }}"/>
                </a>
            {% endif %}
        </div>
    {% endif %}
{% endmacro %}

{% macro render_location(request, location) %}
    <div class="location">
        <h3>
            {% if location.owner is not none %}
                <a href="{{ request.url_for('by_user', uuid=location.owner.uuid) }}">{{ location.owner.name }}</a>
            {% endif %}

            {% for item in location.items %}
                {% if item.name %}
                    <span>&nbsp;/&nbsp;</span>
                    {% if item.is_collection %}
                        <a href="{{ request.url_for('browse', uuid=item.uuid) }}">{{ item.name }}</a>
                    {% else %}
                        <a href="{{ request.url_for('preview', uuid=item.uuid) }}">{{ item.name }}</a>
                    {% endif %}
                {% endif %}
            {% endfor %}
        </h3>
    </div>
{% endmacro %}
