{% extends "base_search.html" %}

{% block head %}
    <script type="text/javascript"
            src="{{ url_for('static', path='crud.js') }}"></script>
    <link type="text/css"
          href="{{ url_for('static', path='crud.css') }}"
          rel="stylesheet">
{% endblock %}

{% block body %}
    <div class="narrow-block">
        <h3>Creation of an item</h3>
        <label for="item_name">Item name:
            <input id="item_name"
                   type="text"
                   value=""
                   class="height-auto"/>
        </label>

        <label for="parent_uuid">Parent UUID:
            <input id="parent_uuid"
                   type="text"
                   value="{{ parent_uuid }}"
                   class="height-auto"
                   onchange="tryLoadingThumbnail('{{ user.uuid }}', '{{ request.url_for('static', path='empty.png') }}')"/>
        </label>

        {# TODO - uncomment this when name based search will be available #}
        {#        <label for="parent_name">Parent name:#}
        {#            <input id="parent_name"#}
        {#                   type="text"#}
        {#                   value=""#}
        {#                   class="height-auto"/>#}
        {#        </label>#}

        <div class="parent_thumbnail">
            <img id="item_thumbnail"
                 src="{{ request.url_for('static', path='empty.png') }}"
                 alt="Parent thumbnail"/>
        </div>

        <label for="item_tags">Tags (one tag per line):<br>
            <textarea id="item_tags" rows="10"></textarea>
        </label>

        {# TODO - restore after permissions will be introduced        #}
        {#        <label for="item_permissions">Permissions (one user per line):<br>#}
        {#            <textarea id="item_permissions" rows="2"></textarea>#}
        {#        </label>#}

        <label for="treat-item-as">Threat this item as:</label>
        <select id="treat-item-as">
            <option value="collection">Collection of items (like album cover)
            </option>
            <option value="single">Singular item</option>
        </select>

        <label for="action-after-creation">What to do after creation:</label>
        <select id="action-after-creation">
            <option value="upload">Upload content</option>
            <option value="browse">Browse result</option>
            <option value="nothing">Do nothing (stay here)</option>
        </select>

        <div id="alerts"></div>

        <a id="create-item-button"
           href="javascript:void(0)"
           title="Create item"
           class="button">Create</a>
    </div>

    <script>
        $('#create-item-button').click(function () {
            createItem(this, gatherItemParameters())
        });
    </script>

{% endblock %}
